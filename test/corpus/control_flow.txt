================================================================================
Simple if statement
================================================================================

std test(): void {
    if (flag) {
        println("yes")
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (if_statement
        (parenthesized_expression
          (identifier))
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list
                (string_literal)))))))))

================================================================================
If-else statement
================================================================================

std test(): void {
    if (condition) {
        doA()
    } else {
        doB()
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (if_statement
        (parenthesized_expression
          (identifier))
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list))))
        (else_clause
          (block
            (expression_statement
              (call_expression
                function: (identifier)
                (argument_list)))))))))

================================================================================
Nested if-else-if
================================================================================

std test(): void {
    if (a) {
        one()
    } else {
        if (b) {
            two()
        } else {
            three()
        }
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (if_statement
        (parenthesized_expression
          (identifier))
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list))))
        (else_clause
          (block
            (if_statement
              (parenthesized_expression
                (identifier))
              (block
                (expression_statement
                  (call_expression
                    function: (identifier)
                    (argument_list))))
              (else_clause
                (block
                  (expression_statement
                    (call_expression
                      function: (identifier)
                      (argument_list))))))))))))

================================================================================
If with function call condition
================================================================================

std test(): void {
    if (eqi64(x, 10)) {
        matched()
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (if_statement
        (parenthesized_expression
          (call_expression
            function: (identifier)
            (argument_list
              (identifier)
              (integer_literal))))
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list))))))))

================================================================================
Return statement with value
================================================================================

std test(): i64 {
    return 42
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (return_statement
        (integer_literal)))))

================================================================================
Return statement with expression
================================================================================

std test(i64 a, i64 b): i64 {
    return addi64(a, b)
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list
      (parameter
        (primitive_type)
        name: (identifier))
      (parameter
        (primitive_type)
        name: (identifier)))
    return_type: (primitive_type)
    (block
      (return_statement
        (call_expression
          function: (identifier)
          (argument_list
            (identifier)
            (identifier)))))))

================================================================================
Empty return statement
================================================================================

std test(): void {
    return
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (return_statement))))

================================================================================
Subscope (loop construct)
================================================================================

std test(): void {
    subscope loop {
        println("iteration")
        goto loop
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (subscope_statement
        name: (identifier)
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list
                (string_literal))))
          (goto_statement
            (identifier)))))))

================================================================================
Goto statement
================================================================================

std test(): void {
    goto end
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (goto_statement
        (identifier)))))

================================================================================
Defer statement
================================================================================

std test(): void {
    defer {
        cleanup()
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (defer_statement
        (block
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list))))))))

================================================================================
Nested blocks
================================================================================

std test(): void {
    {
        c x = 1
        {
            c y = 2
        }
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (block
        (variable_declaration
          (variable_modifier)
          name: (identifier)
          (integer_literal))
        (block
          (variable_declaration
            (variable_modifier)
            name: (identifier)
            (integer_literal)))))))

================================================================================
While-like loop with subscope and conditional return
================================================================================

std test(): void {
    subscope loop {
        if (gti64(i, 10)) {
            return
        }
        println(i)
        i = addi64(i, 1)
        goto loop
    }
}

--------------------------------------------------------------------------------

(source_file
  (function_definition
    (function_color)
    name: (identifier)
    (parameter_list)
    return_type: (primitive_type)
    (block
      (subscope_statement
        name: (identifier)
        (block
          (if_statement
            (parenthesized_expression
              (call_expression
                function: (identifier)
                (argument_list
                  (identifier)
                  (integer_literal))))
            (block
              (return_statement)))
          (expression_statement
            (call_expression
              function: (identifier)
              (argument_list
                (identifier))))
          (assignment_statement
            target: (identifier)
            value: (call_expression
              function: (identifier)
              (argument_list
                (identifier)
                (integer_literal))))
          (goto_statement
            (identifier)))))))
